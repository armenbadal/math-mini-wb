\input eplain.tex

% A6 էջի չափերը
\pdfpagewidth=105mm
\pdfpageheight=148.5mm

\hsize=79mm
\vsize=115mm

\hoffset=-12.4mm
\voffset=-12.4mm

% տեքստի տպատառերը
\font\armtenrm="GHEAGrapalat:mapping=tex-text" at 10pt
\font\armninerm="GHEAGrapalat:mapping=tex-text" at 9pt
\font\armsevenrm="GHEAGrapalat:mapping=tex-text" at 7pt
\font\armsixrm="GHEAGrapalat:mapping=tex-text" at 6pt
\font\armfiverm="GHEAGrapalat:mapping=tex-text" at 5pt

\font\armtenit="GHEAGrapalat/I:mapping=tex-text" at 10pt
\font\armnineit="GHEAGrapalat/I:mapping=tex-text" at 9pt
\font\armsevenit="GHEAGrapalat/I:mapping=tex-text" at 7pt
\font\armsixit="GHEAGrapalat/I:mapping=tex-text" at 6pt
\font\armfiveit="GHEAGrapalat/I:mapping=tex-text" at 5pt

\font\armtenbf="GHEAGrapalat/B:mapping=tex-text" at 10pt
\font\armninebf="GHEAGrapalat/B:mapping=tex-text" at 9pt
\font\armsevenbf="GHEAGrapalat/B:mapping=tex-text" at 7pt
\font\armsixbf="GHEAGrapalat/B:mapping=tex-text" at 6pt
\font\armfivebf="GHEAGrapalat/B:mapping=tex-text" at 5pt

\def\tenpoint{\def\hy{\fam0\armtenrm}%
  %\textfont0=\armtenrm \scriptfont0=\armsevenrm \scriptscriptfont0=\armfiverm
  \def\it{\fam\itfam\armtenit} \textfont\itfam=\armtenit
  \def\bf{\fam\bffam\armtenbf} \textfont\bffam=\armtenbf
    \scriptfont\bffam=\armsevenbf \scriptscriptfont\bffam=\armfivebf
  \normalbaselineskip=14pt
  \setbox\strutbox=\hbox{\vrule height8.5pt depth5.5pt width 0pt}%
  \normalbaselines\hy}

\def\ninepoint{\def\hy{\fam0\armninerm}%
  %\textfont0=\armninerm \scriptfont0=\armsixrm \scriptscriptfont0=\armfiverm
  \def\it{\fam\itfam\armnineit} \textfont\itfam=\armnineit
  \def\bf{\fam\bffam\armninebf} \textfont\bffam=\armninebf
    \scriptfont\bffam=\armsixbf \scriptscriptfont\bffam=\armfivebf
  \normalbaselineskip=12.6pt
  \setbox\strutbox=\hbox{\vrule height8pt depth4.6pt width 0pt}%
  \normalbaselines\hy}

\uselanguage{armenian}
\parindent=0pt
\baselineskip=14pt
\frenchspacing
\tolerance=4000
\hyphenchar\armtenrm="058A % տողադարձի նշանը

\newcount\problemcount \problemcount=0
\def\problem{\vfill\eject%
  \advance\problemcount by1%
  {\bf \the\problemcount.}~}

\newwrite\ansf
\immediate\openout\ansf=\jobname.ans.tex
\def\answer#1{%
  \immediate\write\ansf{\the\problemcount. {\noexpand\it #1}}%
  \immediate\write\ansf{}}

\newbox\problembox
\def\textproblem#1\answer#2{%
  \advance\problemcount by1%
  \setbox\problembox\vbox{{\bf \the\problemcount.}~#1\medskip}
  \gridheight=0.46\vsize
  \advance\gridheight by-\ht\problembox
  \bigskip
  \unvbox\problembox
  \mathgrid\answer{#2}}

% մաթեմատիկական վանդակներ
\newdimen\onerow \onerow5mm
\newdimen\gridheight
\def\mathgrid{%
  \def\rows{\noalign{\hrule}}
  \loop
    \edef\rows{\rows &&&&&&&&&&&&&&\cr\noalign{\hrule}}
    \advance\gridheight by -\onerow
  \ifnum\gridheight>\onerow\repeat
  \bigskip\special{color push rgb 0.5 0.5 0.5}
  \def\cell{\vrule\hbox{\vbox{\hrule width \onerow height 0pt}}}
  \centerline{\vbox{\halign{
    \cell##&\cell##&\cell##&\cell##&%
    \cell##&\cell##&\cell##&\cell##&%
    \cell##&\cell##&\cell##&\cell##&%
    \cell##&\cell##&\cell##\vrule height\onerow\cr
    \rows}}}\special{color pop}\medskip}

\tenpoint

\endinput
